{
    "info": {
      "name": "Sistema de Avaliação para Mostra Científica",
      "_postman_id": "c1e1e1e1-1234-5678-9101-abcdefabcdef",
      "description": "Coleção de testes para o sistema de avaliação científica",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
      {
        "name": "Auth - Login Admin",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"login\": \"admin\",\n  \"password\": \"admin123\"\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/auth/admin/token", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "auth", "admin", "token"] }
        }
      },
      {
        "name": "Auth - Login Avaliador",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"siape_or_cpf\": \"123456789\",\n  \"password\": \"01011980\"\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/auth/token", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "auth", "token"] }
        }
      },
      {
        "name": "Auth - Cadastrar Avaliador",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Novo Avaliador\",\n  \"siape_or_cpf\": \"11122233344\",\n  \"birthdate\": \"15031990\",\n  \"area\": \"Química\",\n  \"subareas\": \"Polímeros;Sustentabilidade\"\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/auth/register", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "auth", "register"] }
        }
      },
      {
        "name": "Admin - Listar Avaliadores",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/users", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "users"] }
        }
      },
      {
        "name": "Admin - Listar Avaliadores (Simplificado)",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/users/simple", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "users", "simple"] }
        }
      },
      {
        "name": "Admin - Editar Avaliador",
        "request": {
          "method": "PUT",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" },
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"name\": \"Nome Editado\",\n  \"siape_or_cpf\": \"11122233344\",\n  \"birthdate\": \"15031990\",\n  \"area\": \"Computação\",\n  \"subareas\": \"Inteligência Artificial;Machine Learning\"\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/admin/users/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "users", "1"] }
        }
      },
      {
        "name": "Admin - Remover Avaliador",
        "request": {
          "method": "DELETE",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/users/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "users", "1"] }
        }
      },
      {
        "name": "Admin - Listar Trabalhos",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works"] }
        }
      },
      {
        "name": "Admin - Listar Trabalhos de um Avaliador",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/evaluator/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "evaluator", "1"] }
        }
      },
      {
        "name": "Admin - Listar Distribuições",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/distributions", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "distributions"] }
        }
      },
      {
        "name": "Admin - Importar Trabalhos CSV",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "body": {
            "mode": "formdata",
            "formdata": [
              {
                "key": "file",
                "type": "file",
                "src": []
              }
            ]
          },
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/import-csv", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "import-csv"] }
        }
      },
      {
        "name": "Admin - Editar Trabalho",
        "request": {
          "method": "PUT",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" },
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"title\": \"Novo Título do Trabalho\",\n  \"authors\": \"Novos Autores\",\n  \"advisor\": \"Novo Orientador\",\n  \"type\": \"Pôster\",\n  \"area\": \"Computação\",\n  \"subarea\": \"Inteligência Artificial\"\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "1"] }
        }
      },
      {
        "name": "Admin - Remover Trabalho",
        "request": {
          "method": "DELETE",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "1"] }
        }
      },
      {
        "name": "Admin - Progresso das Avaliações",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/evaluation-progress", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "evaluation-progress"] }
        }
      },
      {
        "name": "Admin - Pódio dos Trabalhos",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/podium", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "podium"] }
        }
      },
      {
        "name": "Admin - Distribuir Trabalhos",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/distribute", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "distribute"] }
        }
      },
      {
        "name": "Admin - Status da Distribuição",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/distribution-status", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "distribution-status"] }
        }
      },
      {
        "name": "Admin - Reset Distribuição (Emergência)",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/works/reset-distribution", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "works", "reset-distribution"] }
        }
      },
      {
        "name": "Admin - Listar Áreas",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/areas", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "areas"] }
        }
      },
      {
        "name": "Admin - Listar Subáreas por Área",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/admin/areas/Ciências Agrárias/subareas", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "areas", "Ciências Agrárias", "subareas"] }
        }
      },
      {
        "name": "Admin - Processar Ficha (IA)",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" }
          ],
          "body": {
            "mode": "formdata",
            "formdata": [
              {
                "key": "file",
                "type": "file",
                "src": []
              }
            ]
          },
          "url": { "raw": "http://localhost:5000/api/v1/admin/sheets/process-ai", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "sheets", "process-ai"] }
        }
      },
      {
        "name": "Admin - Confirmar Avaliação Manual",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Authorization", "value": "Bearer {{admin_token}}" },
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"work_id\": 1,\n  \"evaluator_id\": 1,\n  \"scores\": [4, 5, 3, 4, 5]\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/admin/sheets/confirm", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "admin", "sheets", "confirm"] }
        }
      },
      {
        "name": "Evaluator - Listar Trabalhos Atribuídos",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{evaluator_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/evaluator/works/assigned", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "evaluator", "works", "assigned"] }
        }
      },
      {
        "name": "Evaluator - Detalhes de um Trabalho",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{evaluator_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/evaluator/works/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "evaluator", "works", "1"] }
        }
      },
      {
        "name": "Evaluator - Enviar Avaliação",
        "request": {
          "method": "POST",
          "header": [
            { "key": "Authorization", "value": "Bearer {{evaluator_token}}" },
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"work_id\": 1,\n  \"criterion1\": 5,\n  \"criterion2\": 4,\n  \"criterion3\": 5,\n  \"criterion4\": 3,\n  \"criterion5\": 4\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/evaluator/evaluations", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "evaluator", "evaluations"] }
        }
      },
      {
        "name": "Evaluator - Minhas Avaliações",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{evaluator_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/evaluator/evaluations/mine", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "evaluator", "evaluations", "mine"] }
        }
      },
      {
        "name": "Evaluator - Avaliações de um Trabalho",
        "request": {
          "method": "GET",
          "header": [
            { "key": "Authorization", "value": "Bearer {{evaluator_token}}" }
          ],
          "url": { "raw": "http://localhost:5000/api/v1/evaluator/evaluations/work/1", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "evaluator", "evaluations", "work", "1"] }
        }
      },
      {
        "name": "Evaluator - Alterar Senha",
        "request": {
          "method": "PUT",
          "header": [
            { "key": "Authorization", "value": "Bearer {{evaluator_token}}" },
            { "key": "Content-Type", "value": "application/json" }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"current_password\": \"01011980\",\n  \"new_password\": \"minha_nova_senha123\"\n}"
          },
          "url": { "raw": "http://localhost:5000/api/v1/evaluator/change-password", "protocol": "http", "host": ["localhost"], "port": "5000", "path": ["api", "v1", "evaluator", "change-password"] }
        }
      }
    ],
    "variable": [
      { "key": "admin_token", "value": "" },
      { "key": "evaluator_token", "value": "" }
    ]
  }
